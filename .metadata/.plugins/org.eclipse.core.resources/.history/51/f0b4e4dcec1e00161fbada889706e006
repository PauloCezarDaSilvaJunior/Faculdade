package br.com.ceunsp.projeto1.controller;

import br.com.ceunsp.projeto1.dao.RevistaDAO;
import br.com.ceunsp.projeto1.modelo.Amiguinho;
import br.com.ceunsp.projeto1.modelo.Revista;
import br.com.ceunsp.projeto1.util.AlertHelper;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleGroup;

public class AmiguinhoController {
	@FXML
	private ToggleGroup toggle;
	@FXML
	private TextField tfNome;
	@FXML
	private TextField tfNomeMae;
	@FXML
	private TextField tfTelefone;

	private Amiguinho amigunho;
	@FXML
	public void salvar(ActionEvent event) {
		try {
			if (tf.getText().equals("") || tfColecao.getText().equals("") || tfEdicao.getText().equals("")
					|| cbCaixa.getValue() == null) {
				AlertHelper.ErrorAlert("Ops! ocorreu um erro", "Por favor preencha todos os campos");
				return;
			}


			amiguinho = new Amiguinho();
			revista.setAno(tfAno.getText());
			revista.setColecao(tfColecao.getText());
			revista.setNumeroEdicao(Long.parseLong(tfEdicao.getText()));
			revista.setCaixa(cbCaixa.getValue());
			RevistaDAO dao = new RevistaDAO();
			dao.merge(revista);
		} catch (RuntimeException e) {
			AlertHelper.ErrorAlert("Ops! ocorreu um erro", "Erro ao tentar salvar!");
			e.printStackTrace();
		}
	}
}
